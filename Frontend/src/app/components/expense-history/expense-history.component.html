<div class="container mt-4">
  <h2 class="mb-1">Expense History</h2>
  <p class="text-muted mb-4">View, filter, and manage your past expenses.</p>

  <div class="card">
    <div class="card-body">
      <form [formGroup]="filterForm" class="row g-3 align-items-end mb-4">
        <div class="col-md-3">
          <div class="input-group">
            <span class="input-group-text bg-white">
              <i class="bi bi-search"></i>
            </span>
            <input 
              type="text" 
              class="form-control" 
              placeholder="Enter User Id"
              formControlName="userId">
          </div>
        </div>
        <div class="col-md-3">
          <input 
            type="date" 
            class="form-control"
            formControlName="startDate">
        </div>
        <div class="col-auto pt-1">
          to
        </div>
        <div class="col-md-3">
          <input 
            type="date" 
            class="form-control"
            formControlName="endDate">
        </div>
        <div class="col-auto">
          <button 
            type="button" 
            class="btn btn-primary" 
            (click)="applyFilters()">Show</button>
        </div>
      </form>

      <div class="table-responsive">
        <table class="table table-hover">
          <thead class="bg-light">
            <tr>
              <th class="py-3">Date</th>
             <!-- <th class="py-3">Category</th>-->
              <th class="py-3">Description</th>
              <th class="py-3">Amount</th>
              <th class="py-3">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let expense of filteredExpenses">
              <td>{{ formatDate(expense.date) }}</td>
             <!-- <td>{{ expense.category }}</td>-->
              <td>{{ expense.description }}</td>
              <td>Rs.{{ expense.amount }}</td>
              <td>
                <button 
                  class="btn btn-sm btn-link text-danger" 
                  (click)="deleteExpense(expense.id)">
                  <i class="bi bi-trash"></i>
                </button>
              </td>
            </tr>
            <tr *ngIf="filteredExpenses.length === 0">
              <td colspan="5" class="text-center py-4">
                No expenses found. Try adjusting your filters.
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>